<!DOCTYPE html><html style="height:100%;"><head lang="en"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="google-site-verification" content="wcRjktXhF6DAjmhneKS7UatweBIkEF6QfqsNhAYbUgg"><title>Babylon.js Documentation</title><link rel="shortcut icon" href="/img/favicon.ico"><meta name="msapplication-TileColor" content="#ffffff"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css"><link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/bundles/37aa8c7514aff1371f0c105a5847611a9179804e.css'/><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.3/css/perfect-scrollbar.min.css"><link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/5631ef06a1312cbb76f0232ae55f318441e2a6cb/css/main.css'/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css"></head><body><nav id="menu"></nav><nav class="nav-main" style="position:inherit;"><!-- Hamburger menu : displayed only in small screens--><i class="fa fa-bars" id="mobilemenu"></i><div class="banner"><div class="menu"><div class="do-not-hover" id="home"><a href="/">HOME</a></div><div class="item" id="whatsnew"><a href="/whats-new">What's new</a></div><div class="item" id="feature"><a href="/babylon101">Babylon 101      </a></div><div class="item" id="feature"><a href="/examples">Examples                        </a></div><div class="item active" id="How_To"><a href="/How_To">How To...</a></div><div class="item" id="feature"><a href="/features">Features</a></div><div class="item" id="resources"><a href="/resources">Resources</a></div><div class="item" id="extensions"><a href="/extensions">Extensions</a></div><div class="item" id="samples"><a href="/snippets">Snippets        </a></div><div class="item" id="classes"><a href="/api">API</a></div><div class="item" id="playground"><a href="/playground">Playground</a></div></div><div class="more"><div class="searchbar"><form method="get" action="/search"><input type="text" name="bjsq" placeholder="Search..."><button type="submit"><i class="fa fa-search"></i></button></form></div></div></div></nav><div id="wrapper"><div class="statics-banner"><h1>How To</h1></div><div class="horizontal-separator"></div><div class="static-content"><h1>Use Instances</h1><br><div class="contentTable"><div class="tocHeader"><span class="tocTitle"><i class="tocIcon fa fa-book"></i>Table of contents</span><span class="tocToggle"><i class="fa fa-arrow-up"></i></span></div><div class="tocContent"><ul>
<li><a href="#how-to-use-instances">How to use Instances</a></li>
<li><a href="#support">Support</a></li>
<li><a href="#using-blender-to-create-instances">Using Blender to create instances</a></li>
<li><a href="#using-3ds-max-to-create-instances">Using 3DS Max to create instances</a></li>
<li><a href="#limitations">Limitations</a></li>
<li><a href="#demo">Demo</a></li>
</ul>
</div></div><div id="staticContent"><h1><a name="how-to-use-instances" class="anchor" href="#how-to-use-instances"></a>How to use Instances</h1><p>Instances are an excellent way to use hardware accelerated rendering to draw a huge number of identical meshes (let&#39;s imagine a forest or an army).</p>
<p>Instances are built from a mesh with the following code:</p>
<pre><code class="lang-javascript">var mesh = newMeshes[0];
for (var index = 0; index &lt; 100; index++) {
    var newInstance = mesh.createInstance(&quot;i&quot; + index);
}
</code></pre>
<p>A mesh can have as many instances as you want.</p>
<p>Each instance has the same material as the root mesh. They can only vary on the following properties:</p>
<ul>
<li><code>position</code></li>
<li><code>rotation</code></li>
<li><code>rotationQuaternion</code></li>
<li><code>setPivotMatrix</code></li>
<li><code>scaling</code></li>
</ul>
<h1><a name="support" class="anchor" href="#support"></a>Support</h1><p>Instances are supported for collisions, picking, rendering and shadows. Even if the current hardware does not support hardware accelerated instances, babylon.js will be able to optimize rendering to take instances into account.</p>
<h1><a name="using-blender-to-create-instances" class="anchor" href="#using-blender-to-create-instances"></a>Using Blender to create instances</h1><p>Using Blender, you can create instances of a mesh by just creating a linked object:</p>
<p><img src="http://www.html5gamedevs.com/uploads/monthly_05_2014/post-7026-0-82151000-1401073383.jpg" alt=""></p>
<h1><a name="using-3ds-max-to-create-instances" class="anchor" href="#using-3ds-max-to-create-instances"></a>Using 3DS Max to create instances</h1><p>Using 3DS Max, you can create instances of a mesh by just creating a clone instance object with clic right on the object:</p>
<p><img src="http://www.html5gamedevs.com/uploads/monthly_11_2014/post-5292-0-54659600-1415793353.jpg" alt=""></p>
<h1><a name="limitations" class="anchor" href="#limitations"></a>Limitations</h1><p>You can use instances with LOD but one limitation will apply in this case: You will have to hide the root objects.
Here is an example where LODs reuse instances:
<a href="https://www.babylonjs-playground.com/#0720FC#10">https://www.babylonjs-playground.com/#0720FC#10</a> - <i class="fa fa-eye" onclick="createIframe('0720FC#10', this)"></i><br/><div class="iframeContainer"></div><br/></p>
<p>If you want to create an instance from a cloned mesh, you have to first make sure that you call clonedMesh.makeGeometryUnique().</p>
<h1><a name="demo" class="anchor" href="#demo"></a>Demo</h1><p><a href="http://www.babylonjs.com/?INSTANCES">http://www.babylonjs.com/?INSTANCES</a></p>
</div></div></div><footer class="footer"><div class="footer-item"><a href="https://www.babylonjs.com" target="_blank"><i class="fa fa-home"></i>    Babylonjs.com</a></div><div class="footer-item"><a href="https://forum.babylonjs.com" target="_blank"><i class="fa fa-html5"></i>    Forum</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Babylon.js" target="_blank"><i class="fa fa-github"></i>    Github</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Documentation" target="_blank"><i class="fa fa-code-fork"></i>    Contribute </a></div><div class="footer-item"><a href="https://www.netlify.com" target="_blank"><i class="fa fa-heart"></i> Deployed by netlify            </a></div></footer><script src='https://d33wubrfki0l68.cloudfront.net/js/6c5a0bab19aff39c2bf01a14bac330e9140b5cef/js/jquery.min.js'></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/0.1.9/slideout.min.js"></script><script src='https://d33wubrfki0l68.cloudfront.net/js/f48cb004d8126ebe06fa08e7ec362ddee7ff288d/js/index.js'></script><script>(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            };
    i[r].l = 1 * new Date();
    a = s.createElement(o);
    m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-41767310-3', 'auto');
ga('send', 'pageview');</script><!-- HIGHLIGHT JS--><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/javascript.min.js"></script><script src='https://d33wubrfki0l68.cloudfront.net/js/8e913e925d28c3a3ec0d9d587b542f849196f745/js/static.js'></script><script>$('code').each(function(){
    $(this).text($(this).text().replace(/&nbsp;/gi, ''));
});
hljs.initHighlightingOnLoad();</script></body></html>